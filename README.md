note to myself and anyone looking at src: this code is very very bad because its been so long since ive worked on it
